<!DOCTYPE html>
<html>
<head>
	<title>Place Order Now</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="css/bookstyle.css">
	   
</head>
<body>
	<header>
		<nav>
			<div class="logo">
			<span class="kabra">Kabra</span>	 Electricals
			</div>
			<div class="nav-links">
				<ul>
					<li><a href="index.html">Home</a></li>
				</ul>
			</div>
		</nav>
	</header>
	<main>
		<section class="order-now">
			<h1>Add items that you want to add</h1>
			<form>
                <h3>Fill your Details</h3>
				<label for="name">Name:</label>
				<input type="text" id="name" name="name" placeholder="Enter your name" required>

				<label for="email">Email:</label>
				<input type="email" id="email" name="email" placeholder="Enter your email" required>

				<label for="mobile">Mobile number:</label>
				<input type="tel" id="mobile" name="mobile" placeholder="Enter your mobile number" required>

				<label for="location">Location:</label>
				<input type="text" id="location" name="location" placeholder="Enter your location" required>

				<label for="order">Items:</label>
				<textarea id="order" name="order" rows="4" placeholder="Enter items that you want to add"></textarea>

				<button id="submit" type="button"> Submit </button>
			</form>
		</section>
		<div>
		<a class="final-button" href="payment.html">Proceed to pay </a>
	</div>
	</main>


	<script type="module">
		// Import the functions you need from the SDKs you need
		   
		// TODO: Add SDKs for Firebase products that you want to use
		// https://firebase.google.com/docs/web/setup#available-libraries
	  
		// Your web app's Firebase configuration
		// For Firebase JS SDK v7.20.0 and later, measurementId is optional
		import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
		import { getDatabase,set,ref } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js";
		import { getAuth, createUserWithEmailAndPassword} from "https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js";
	   
		import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-analytics.js";
		// TODO: Add SDKs for Firebase products that you want to use
		// https://firebase.google.com/docs/web/setup#available-libraries
	  
		// Your web app's Firebase configuration
		// For Firebase JS SDK v7.20.0 and later, measurementId is optional
	
	
		// BACKEND CHANGES
		
		const firebaseConfig = {
			apiKey: "AIzaSyAJeFYXb_IQGtlJN6Yt_TXu6rm6qBPdln4",
			authDomain: "kabra-electronics.firebaseapp.com",
			databaseURL: "https://kabra-electronics-default-rtdb.firebaseio.com",
			projectId: "kabra-electronics",
			storageBucket: "kabra-electronics.appspot.com",
			messagingSenderId: "4617723802",
			appId: "1:4617723802:web:ee6ea38d4146b5b5446423",
			measurementId: "G-M5Q8ZKD3XC"
		  };	
		 
		
		// Initialize Firebase
		const app = initializeApp(firebaseConfig);
		const analytics = getAnalytics(app);
		
	  
		// Initialize Firebase
		
		
	 const db=getDatabase();
	   var name=document.getElementById('name');
	   var email=document.getElementById('email');
	   var mobile=document.getElementById('mobile');
	   var location=document.getElementById('location');
	   var order=document.getElementById('order');
	   var button=document.getElementById('submit');
	   
	
	   function data(){
		
		set(ref(db,'Booking/'+name.value),{
			
			name:name.value,
			email:email.value,
			mobile:mobile.value,
			location:location.value,
			order:order.value,
		   
	
		})
	    .then(()=>{
	        alert("Your Booking Has Been Confirmed")
	    })
	  .catch(()=>{
	    alert(error)
		// window.location.href="payment.html"
	  })
		  }
		 
	button.addEventListener('click',data)
	  
	  </script>



</body>
</html>
